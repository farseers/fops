import{f as S}from"./index-7f9b0bd3.js";import{k as F,e as T,$ as N,ah as n,o as f,c as D,W as l,Q as t,P as _,U as u,V as s}from"./@vue-d9027515.js";import"./index-44e3a56f.js";import"./pinia-be7e992d.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a2fac16f.js";import"./vue-i18n-e0b9a81d.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./vue-b46b26c7.js";import"./js-cookie-cf83ad76.js";import"./@element-plus-96a31696.js";import"./nprogress-8d2808ea.js";import"./axios-707ed124.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./element-plus-7da03efa.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-0ee01be3.js";import"./requestFSGet-8715877b.js";const v={class:"system-user-dialog-container"},R=F({name:"fopsTaskDetailDialog"}),fe=F({...R,emits:["refresh"],setup(I,{expose:b,emit:z}){const g=S(),c=T(),e=N({ruleForm:{Id:0,Name:"",Ver:1,Caption:"",Data:{lotteryName:""},Task:{Id:0,TaskGroupId:0,Name:"",Ver:0,Caption:"",StartAt:"",RunAt:"",RunSpeed:0,Client:{Id:0,Name:"",Ip:"",Port:0},Progress:0,Status:0,SchedulerAt:"",Data:{},CreateAt:""},StartAt:"",NextAt:"",Cron:"",IsEnable:!1,ActivateAt:"",LastRunAt:"",RunSpeedAvg:0,RunCount:0,NeedSave:!1},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""}}),V=p=>{e.dialog.title="任务组详情",e.dialog.submitTxt="修 改";var o="/basicapi/taskGroup/info-"+p.Id;g.taskGroupInfo(o).then(function(d){if(d.Status){var a=d.Data;e.ruleForm.Id=a.Id,e.ruleForm.Name=a.Name,e.ruleForm.Ver=a.Ver,e.ruleForm.Caption=a.Caption,e.ruleForm.Data=a.Data,e.ruleForm.StartAt=a.StartAt,e.ruleForm.NextAt=a.NextAt,e.ruleForm.Cron=a.Cron,e.ruleForm.IsEnable=a.IsEnable,e.ruleForm.ActivateAt=a.ActivateAt,e.ruleForm.LastRunAt=a.LastRunAt,e.ruleForm.RunSpeedAvg=a.RunSpeedAvg,e.ruleForm.RunCount=a.RunCount,e.ruleForm.NeedSave=a.NeedSave,e.ruleForm.Task=a.Task}}),e.dialog.isShowDialog=!0},x=p=>{switch(p){case 0:return"未开始";case 1:return"调度中";case 2:return"调度失败";case 3:return"执行中";case 4:return"失败";case 5:return"成功"}return""};return b({openDialog:V}),(p,o)=>{const d=n("el-input"),a=n("el-form-item"),i=n("el-col"),m=n("el-tag"),A=n("el-row"),C=n("el-form"),k=n("el-dialog");return f(),D("div",v,[l(k,{title:e.dialog.title,modelValue:e.dialog.isShowDialog,"onUpdate:modelValue":o[11]||(o[11]=r=>e.dialog.isShowDialog=r),width:"769px"},{default:t(()=>[l(C,{ref_key:"gitDialogFormRef",ref:c,model:e.ruleForm,size:"default","label-width":"100px"},{default:t(()=>[l(A,{gutter:35},{default:t(()=>[l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"任务名称"},{default:t(()=>[l(d,{modelValue:e.ruleForm.Name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.ruleForm.Name=r),placeholder:"请输入任务名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"版本"},{default:t(()=>[l(d,{modelValue:e.ruleForm.Ver,"onUpdate:modelValue":o[1]||(o[1]=r=>e.ruleForm.Ver=r),placeholder:"请输入版本",clearable:"",readonly:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"任务标题"},{default:t(()=>[l(d,{modelValue:e.ruleForm.Caption,"onUpdate:modelValue":o[2]||(o[2]=r=>e.ruleForm.Caption=r),placeholder:"请输入任务标题",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"参数"},{default:t(()=>[l(d,{modelValue:e.ruleForm.Data.lotteryName,"onUpdate:modelValue":o[3]||(o[3]=r=>e.ruleForm.Data.lotteryName=r),placeholder:"请输入参数",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"开始时间"},{default:t(()=>[l(d,{modelValue:e.ruleForm.StartAt,"onUpdate:modelValue":o[4]||(o[4]=r=>e.ruleForm.StartAt=r),placeholder:"开始时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"下次执行时间"},{default:t(()=>[l(d,{modelValue:e.ruleForm.NextAt,"onUpdate:modelValue":o[5]||(o[5]=r=>e.ruleForm.NextAt=r),placeholder:"下次执行时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"设置Cron"},{default:t(()=>[l(d,{modelValue:e.ruleForm.Cron,"onUpdate:modelValue":o[6]||(o[6]=r=>e.ruleForm.Cron=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"是否启用"},{default:t(r=>[e.ruleForm.IsEnable?(f(),_(m,{key:0,type:"success"},{default:t(()=>[u("启用")]),_:1})):(f(),_(m,{key:1,type:"info"},{default:t(()=>[u("禁用")]),_:1}))]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"激活时间"},{default:t(()=>[l(d,{modelValue:e.ruleForm.ActivateAt,"onUpdate:modelValue":o[7]||(o[7]=r=>e.ruleForm.ActivateAt=r),placeholder:"激活时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"最后运行时间"},{default:t(()=>[l(d,{modelValue:e.ruleForm.LastRunAt,"onUpdate:modelValue":o[8]||(o[8]=r=>e.ruleForm.LastRunAt=r),placeholder:"最后一次运行时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"平均时间"},{default:t(()=>[l(d,{modelValue:e.ruleForm.RunSpeedAvg,"onUpdate:modelValue":o[9]||(o[9]=r=>e.ruleForm.RunSpeedAvg=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[l(a,{label:"运行次数"},{default:t(()=>[l(d,{modelValue:e.ruleForm.RunCount,"onUpdate:modelValue":o[10]||(o[10]=r=>e.ruleForm.RunCount=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(i,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[l(a,{label:"任务内容"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("ID："+s(e.ruleForm.Task.Id),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("名称："+s(e.ruleForm.Task.Name),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("版本："+s(e.ruleForm.Task.Ver),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("标题："+s(e.ruleForm.Task.Caption),1)]),_:1})]),_:1}),l(a,{label:"运行数据"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("参数："+s(JSON.stringify(e.ruleForm.Task.Data)),1)]),_:1})]),_:1}),l(a,{label:"运行数据"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("运行耗时："+s(e.ruleForm.Task.RunSpeed),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("进度："+s(e.ruleForm.Task.Progress),1)]),_:1})]),_:1}),l(a,{label:"任务时间"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("开始时间："+s(e.ruleForm.Task.StartAt),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("运行时间："+s(e.ruleForm.Task.RunAt),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("调度时间："+s(e.ruleForm.Task.SchedulerAt),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("创建时间："+s(e.ruleForm.Task.CreateAt),1)]),_:1})]),_:1}),l(a,{label:"任务状态"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("状态："+s(x(e.ruleForm.Task.Status)),1)]),_:1})]),_:1}),l(a,{label:"客户端信息"},{default:t(()=>[l(m,{size:"mini"},{default:t(()=>[u("客户端ID："+s(e.ruleForm.Task.Client.Id),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("客户端名称："+s(e.ruleForm.Task.Client.Name),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("客户端IP："+s(e.ruleForm.Task.Client.Ip),1)]),_:1}),l(m,{size:"mini"},{default:t(()=>[u("客户端端口："+s(e.ruleForm.Task.Client.Port),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});export{fe as default};
