import{f as C}from"./index-824e04e8.js";import{a as d}from"./element-plus-7da03efa.js";import{k as D,e as I,$ as S,ah as u,o as w,c as K,W as l,Q as r,a as h,U as g,V as y}from"./@vue-d9027515.js";import"./index-46c45a09.js";import"./pinia-be7e992d.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a2fac16f.js";import"./vue-i18n-e0b9a81d.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./vue-b46b26c7.js";import"./js-cookie-cf83ad76.js";import"./@element-plus-96a31696.js";import"./nprogress-8d2808ea.js";import"./axios-707ed124.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-0ee01be3.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";const H={class:"system-user-dialog-container"},P={class:"dialog-footer"},v=D({name:"fopsClusterDialog"}),De=D({...v,emits:["refresh"],setup(T,{expose:F,emit:p}){const c=C(),_=I(),e=S({ruleForm:{Id:0,Name:"",Ip:"",K8sConnectConfig:"",DockerName:"",DockerHub:"",DockerUserName:"",DockerUserPwd:""},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""}}),k=(i,o)=>{e.dialog.type=i,i==="edit"?(e.ruleForm=o,e.dialog.title="修改集群",e.dialog.submitTxt="修 改",e.ruleForm.Id=o.Id,e.ruleForm.Name=o.Name,e.ruleForm.Ip=o.Ip,e.ruleForm.K8sConnectConfig=o.K8sConnectConfig,e.ruleForm.DockerName=o.DockerName,e.ruleForm.DockerHub=o.DockerHub,e.ruleForm.DockerUserName=o.DockerUserName,e.ruleForm.DockerUserPwd=o.DockerUserPwd):(e.dialog.title="新增集群",e.dialog.submitTxt="新 增",e.ruleForm.Id=0,e.ruleForm.Name="",e.ruleForm.Ip="",e.ruleForm.K8sConnectConfig="",e.ruleForm.DockerName="",e.ruleForm.DockerHub="",e.ruleForm.DockerUserName="",e.ruleForm.DockerUserPwd=""),e.dialog.isShowDialog=!0},n=()=>{e.dialog.isShowDialog=!1},b=()=>{n()},V=()=>{var i={Id:e.ruleForm.Id,Name:e.ruleForm.Name,Ip:e.ruleForm.Ip,K8sConnectConfig:e.ruleForm.K8sConnectConfig,DockerName:e.ruleForm.DockerName,DockerHub:e.ruleForm.DockerHub,DockerUserName:e.ruleForm.DockerUserName,DockerUserPwd:e.ruleForm.DockerUserPwd};e.dialog.type==="add"?c.clusterAdd(i).then(function(o){o.Status?(d.success("添加成功"),n(),p("refresh")):d.error(o.StatusMessage)}):e.dialog.type=="edit"&&c.clusterEdit(i).then(function(o){o.Status?(d.success("修改成功"),n(),p("refresh")):d.error(o.StatusMessage)})};return F({openDialog:k}),(i,o)=>{const m=u("el-input"),a=u("el-form-item"),s=u("el-col"),N=u("el-row"),U=u("el-form"),f=u("el-button"),x=u("el-dialog");return w(),K("div",H,[l(x,{title:e.dialog.title,modelValue:e.dialog.isShowDialog,"onUpdate:modelValue":o[7]||(o[7]=t=>e.dialog.isShowDialog=t),width:"769px"},{footer:r(()=>[h("span",P,[l(f,{onClick:b,size:"default"},{default:r(()=>[g("取 消")]),_:1}),l(f,{type:"primary",onClick:V,size:"default"},{default:r(()=>[g(y(e.dialog.submitTxt),1)]),_:1})])]),default:r(()=>[l(U,{ref_key:"gitDialogFormRef",ref:_,model:e.ruleForm,size:"default","label-width":"90px"},{default:r(()=>[l(N,{gutter:35},{default:r(()=>[l(s,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:r(()=>[l(a,{label:"集群名称"},{default:r(()=>[l(m,{modelValue:e.ruleForm.Name,"onUpdate:modelValue":o[0]||(o[0]=t=>e.ruleForm.Name=t),placeholder:"请输入集群名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:r(()=>[l(a,{label:"集群地址"},{default:r(()=>[l(m,{modelValue:e.ruleForm.Ip,"onUpdate:modelValue":o[1]||(o[1]=t=>e.ruleForm.Ip=t),placeholder:"请输入集群地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:r(()=>[l(a,{label:"K8s连接配置"},{default:r(()=>[l(m,{modelValue:e.ruleForm.K8sConnectConfig,"onUpdate:modelValue":o[2]||(o[2]=t=>e.ruleForm.K8sConnectConfig=t),placeholder:"请输入K8s连接配置",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:r(()=>[l(a,{label:"仓库名称"},{default:r(()=>[l(m,{modelValue:e.ruleForm.DockerName,"onUpdate:modelValue":o[3]||(o[3]=t=>e.ruleForm.DockerName=t),placeholder:"请输入仓库名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:r(()=>[l(a,{label:"托管地址"},{default:r(()=>[l(m,{modelValue:e.ruleForm.DockerHub,"onUpdate:modelValue":o[4]||(o[4]=t=>e.ruleForm.DockerHub=t),placeholder:"请输入托管地址",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:r(()=>[l(a,{label:"账户名称"},{default:r(()=>[l(m,{modelValue:e.ruleForm.DockerUserName,"onUpdate:modelValue":o[5]||(o[5]=t=>e.ruleForm.DockerUserName=t),placeholder:"请输入账户名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(s,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:r(()=>[l(a,{label:"账户密码"},{default:r(()=>[l(m,{modelValue:e.ruleForm.DockerUserPwd,"onUpdate:modelValue":o[6]||(o[6]=t=>e.ruleForm.DockerUserPwd=t),placeholder:"请输入账户密码",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});export{De as default};
