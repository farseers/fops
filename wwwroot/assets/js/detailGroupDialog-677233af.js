import{f as S}from"./index-9f54e62c.js";import{k as F,e as T,$ as N,ah as i,o as f,c as D,W as e,Q as t,P as _,U as m,V as d}from"./@vue-d9027515.js";import"./index-bda53454.js";import"./pinia-be7e992d.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a2fac16f.js";import"./vue-i18n-e0b9a81d.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./vue-b46b26c7.js";import"./js-cookie-cf83ad76.js";import"./@element-plus-96a31696.js";import"./nprogress-8d2808ea.js";import"./axios-707ed124.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./element-plus-7da03efa.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-463e90e0.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-0ee01be3.js";import"./requestFSGet-e1966bf5.js";const v={class:"system-user-dialog-container"},R=F({name:"fopsTaskDetailDialog"}),fl=F({...R,emits:["refresh"],setup(I,{expose:b,emit:y}){const g=S(),c=T(),l=N({ruleForm:{Id:0,Name:"",Ver:1,Caption:"",Data:{lotteryName:""},Task:{Id:0,TaskGroupId:0,Name:"",Ver:0,Caption:"",StartAt:"",RunAt:"",RunSpeed:0,Client:{Id:0,Name:"",Ip:"",Port:0},Progress:0,Status:0,SchedulerAt:"",Data:{},CreateAt:""},StartAt:"",NextAt:"",Cron:"",IsEnable:!1,ActivateAt:"",LastRunAt:"",RunSpeedAvg:0,RunCount:0,NeedSave:!1},dialog:{isShowDialog:!1,type:"",title:"",submitTxt:""}}),V=p=>{l.dialog.title="任务组详情",l.dialog.submitTxt="修 改";var o="/basicapi/taskGroup/info-"+p.Id;g.taskGroupInfo(o).then(function(s){if(s.Status){var a=s.Data;l.ruleForm.Id=a.Id,l.ruleForm.Name=a.Name,l.ruleForm.Ver=a.Ver,l.ruleForm.Caption=a.Caption,l.ruleForm.Data=a.Data,l.ruleForm.StartAt=a.StartAt,l.ruleForm.NextAt=a.NextAt,l.ruleForm.Cron=a.Cron,l.ruleForm.IsEnable=a.IsEnable,l.ruleForm.ActivateAt=a.ActivateAt,l.ruleForm.LastRunAt=a.LastRunAt,l.ruleForm.RunSpeedAvg=a.RunSpeedAvg,l.ruleForm.RunCount=a.RunCount,l.ruleForm.NeedSave=a.NeedSave,l.ruleForm.Task=a.Task}}),l.dialog.isShowDialog=!0},x=p=>{switch(p){case 0:return"未开始";case 1:return"调度中";case 2:return"调度失败";case 3:return"执行中";case 4:return"失败";case 5:return"成功"}return""};return b({openDialog:V}),(p,o)=>{const s=i("el-input"),a=i("el-form-item"),n=i("el-col"),u=i("el-tag"),A=i("el-row"),C=i("el-form"),k=i("el-dialog");return f(),D("div",v,[e(k,{title:l.dialog.title,modelValue:l.dialog.isShowDialog,"onUpdate:modelValue":o[11]||(o[11]=r=>l.dialog.isShowDialog=r),width:"769px"},{default:t(()=>[e(C,{ref_key:"gitDialogFormRef",ref:c,model:l.ruleForm,size:"default","label-width":"100px"},{default:t(()=>[e(A,{gutter:35},{default:t(()=>[e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"任务名称"},{default:t(()=>[e(s,{modelValue:l.ruleForm.Name,"onUpdate:modelValue":o[0]||(o[0]=r=>l.ruleForm.Name=r),placeholder:"请输入任务名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"版本"},{default:t(()=>[e(s,{modelValue:l.ruleForm.Ver,"onUpdate:modelValue":o[1]||(o[1]=r=>l.ruleForm.Ver=r),placeholder:"请输入版本",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"任务标题"},{default:t(()=>[e(s,{modelValue:l.ruleForm.Caption,"onUpdate:modelValue":o[2]||(o[2]=r=>l.ruleForm.Caption=r),placeholder:"请输入任务标题",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"参数"},{default:t(()=>[e(s,{modelValue:l.ruleForm.Data.lotteryName,"onUpdate:modelValue":o[3]||(o[3]=r=>l.ruleForm.Data.lotteryName=r),placeholder:"请输入参数",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"开始时间"},{default:t(()=>[e(s,{modelValue:l.ruleForm.StartAt,"onUpdate:modelValue":o[4]||(o[4]=r=>l.ruleForm.StartAt=r),placeholder:"开始时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"下次执行时间"},{default:t(()=>[e(s,{modelValue:l.ruleForm.NextAt,"onUpdate:modelValue":o[5]||(o[5]=r=>l.ruleForm.NextAt=r),placeholder:"下次执行时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"设置Cron"},{default:t(()=>[e(s,{modelValue:l.ruleForm.Cron,"onUpdate:modelValue":o[6]||(o[6]=r=>l.ruleForm.Cron=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"是否启用"},{default:t(r=>[l.ruleForm.IsEnable?(f(),_(u,{key:0,type:"success"},{default:t(()=>[m("启用")]),_:1})):(f(),_(u,{key:1,type:"info"},{default:t(()=>[m("禁用")]),_:1}))]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"激活时间"},{default:t(()=>[e(s,{modelValue:l.ruleForm.ActivateAt,"onUpdate:modelValue":o[7]||(o[7]=r=>l.ruleForm.ActivateAt=r),placeholder:"激活时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"最后运行时间"},{default:t(()=>[e(s,{modelValue:l.ruleForm.LastRunAt,"onUpdate:modelValue":o[8]||(o[8]=r=>l.ruleForm.LastRunAt=r),placeholder:"最后一次运行时间",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"平均时间"},{default:t(()=>[e(s,{modelValue:l.ruleForm.RunSpeedAvg,"onUpdate:modelValue":o[9]||(o[9]=r=>l.ruleForm.RunSpeedAvg=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb20"},{default:t(()=>[e(a,{label:"运行次数"},{default:t(()=>[e(s,{modelValue:l.ruleForm.RunCount,"onUpdate:modelValue":o[10]||(o[10]=r=>l.ruleForm.RunCount=r),placeholder:"请输入Cron时间格式",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(n,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:t(()=>[e(a,{label:"任务内容"},{default:t(()=>[e(u,null,{default:t(()=>[m("ID："+d(l.ruleForm.Task.Id),1)]),_:1}),e(u,null,{default:t(()=>[m("名称："+d(l.ruleForm.Task.Name),1)]),_:1}),e(u,null,{default:t(()=>[m("版本："+d(l.ruleForm.Task.Ver),1)]),_:1}),e(u,null,{default:t(()=>[m("标题："+d(l.ruleForm.Task.Caption),1)]),_:1})]),_:1}),e(a,{label:"运行数据"},{default:t(()=>[e(u,null,{default:t(()=>[m("参数："+d(JSON.stringify(l.ruleForm.Task.Data)),1)]),_:1})]),_:1}),e(a,{label:"运行数据"},{default:t(()=>[e(u,null,{default:t(()=>[m("运行耗时："+d(l.ruleForm.Task.RunSpeed),1)]),_:1}),e(u,null,{default:t(()=>[m("进度："+d(l.ruleForm.Task.Progress),1)]),_:1})]),_:1}),e(a,{label:"任务时间"},{default:t(()=>[e(u,null,{default:t(()=>[m("开始时间："+d(l.ruleForm.Task.StartAt),1)]),_:1}),e(u,null,{default:t(()=>[m("运行时间："+d(l.ruleForm.Task.RunAt),1)]),_:1}),e(u,null,{default:t(()=>[m("调度时间："+d(l.ruleForm.Task.SchedulerAt),1)]),_:1}),e(u,null,{default:t(()=>[m("创建时间："+d(l.ruleForm.Task.CreateAt),1)]),_:1})]),_:1}),e(a,{label:"任务状态"},{default:t(()=>[e(u,null,{default:t(()=>[m("状态："+d(x(l.ruleForm.Task.Status)),1)]),_:1})]),_:1}),e(a,{label:"客户端信息"},{default:t(()=>[e(u,null,{default:t(()=>[m("客户端ID："+d(l.ruleForm.Task.Client.Id),1)]),_:1}),e(u,null,{default:t(()=>[m("客户端名称："+d(l.ruleForm.Task.Client.Name),1)]),_:1}),e(u,null,{default:t(()=>[m("客户端IP："+d(l.ruleForm.Task.Client.Ip),1)]),_:1}),e(u,null,{default:t(()=>[m("客户端端口："+d(l.ruleForm.Task.Client.Port),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}});export{fl as default};
