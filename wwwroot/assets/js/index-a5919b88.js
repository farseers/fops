import{S as i,s as e}from"./index-32e628b7.js";import{a as d}from"./axios-707ed124.js";import{l as n}from"./qs-bbfcbdf3.js";import{E as l,a as o}from"./element-plus-7da03efa.js";const u=d.create({baseURL:"https://fschedule.fsgit.cc/",timeout:5e4,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},paramsSerializer:{serialize(t){return n.stringify(t,{allowDots:!0})}}});u.interceptors.request.use(t=>(i.get("token")&&(t.headers.Authorization=`${i.get("token")}`),t),t=>Promise.reject(t));u.interceptors.response.use(t=>{const r=t.data;return r.code&&r.code!==0?((r.code===401||r.code===4001)&&(i.clear(),window.location.href="/",l.alert("你已被登出，请重新登录","提示",{}).then(()=>{}).catch(()=>{})),Promise.reject(u.interceptors.response)):r},t=>(t.message.indexOf("timeout")!=-1?o.error("网络超时"):t.message=="Network Error"?o.error("网络连接错误"):t.response.data?o.error(t.response.statusText):o.error("接口路径找不到"),Promise.reject(t)));const a=u,s=d.create({baseURL:"https://fschedule.fsgit.cc/",timeout:5e4,headers:{"Content-Type":"application/x-www-form-urlencoded","Access-Control-Allow-Origin":"*"},paramsSerializer:{serialize(t){return n.stringify(t,{allowDots:!0})}}});s.interceptors.request.use(t=>(i.get("token")&&(t.headers.Authorization=`${i.get("token")}`),t),t=>Promise.reject(t));s.interceptors.response.use(t=>{const r=t.data;return r.code&&r.code!==0?((r.code===401||r.code===4001)&&(i.clear(),window.location.href="/",l.alert("你已被登出，请重新登录","提示",{}).then(()=>{}).catch(()=>{})),Promise.reject(s.interceptors.response)):r},t=>(t.message.indexOf("timeout")!=-1?o.error("网络超时"):t.message=="Network Error"?o.error("网络连接错误"):t.response.data?o.error(t.response.statusText):o.error("接口路径找不到"),Promise.reject(t)));function g(){return{gitList:t=>e({url:"/git/list",method:"post",data:t}),gitAdd:t=>e({url:"/git/add",method:"post",data:t}),gitInfo:t=>e({url:"/git/info",method:"post",data:t}),gitEdit:t=>e({url:"/git/update",method:"post",data:t}),gitDel:t=>e({url:"/git/delete",method:"post",data:t}),appsList:t=>e({url:"/apps/list",method:"post",data:t}),appsAdd:t=>e({url:"/apps/add",method:"post",data:t}),appsEdit:t=>e({url:"/apps/update",method:"post",data:t}),appsDel:t=>e({url:"/apps/delete",method:"post",data:t}),appsDetail:t=>e({url:"/apps/info",method:"post",data:t}),clusterAdd:t=>e({url:"/cluster/add",method:"post",data:t}),clusterEdit:t=>e({url:"/cluster/update",method:"post",data:t}),clusterList:t=>e({url:"/cluster/list",method:"post",data:t}),clusterDel:t=>e({url:"/cluster/delete",method:"post",data:t}),buildList:t=>e({url:"/apps/build/list",method:"post",data:t}),buildAdd:t=>e({url:"/apps/build/add",method:"post",data:t}),buildLog:t=>e({url:"/apps/build/view",method:"get",data:t}),taskGroupList:t=>s({url:"/basicapi/taskGroup/list?"+t,method:"get"}),taskList:t=>s({url:"/basicapi/task/list?"+t,method:"get"}),taskGroupInfo:(t,r)=>s({url:t,method:"get"}),taskGroupSetEnable:t=>a({url:"/basicapi/taskGroup/setEnable",method:"post",data:t}),taskUpdate:t=>a({url:"/basicapi/taskGroup/update",method:"post",data:t}),taskDel:t=>a({url:"/basicapi/taskGroup/delete",method:"post",data:t}),taskCount:t=>a({url:"/basicapi/taskGroup/count",method:"get",data:t}),taskNoRunCount:t=>a({url:"/basicapi/taskGroup/unRunCount",method:"get",data:t}),taskNoRunList:t=>s({url:"/basicapi/taskGroup/unRunList?"+t,method:"get"}),taskRunningList:t=>s({url:"/basicapi/taskGroup/schedulerWorkingList?"+t,method:"get"}),taskLogList:t=>s({url:"/basicapi/log/list?"+t,method:"get"}),taskFinishedList:t=>s({url:"/basicapi/task/list",method:"get",data:t}),taskTodayFailCount:t=>a({url:"/basicapi/task/todayFailCount",method:"get",data:t}),serverNodeList:t=>a({url:"/basicapi/server/list",method:"get",data:t}),clientList:t=>a({url:"/basicapi/client/list",method:"get",data:t})}}export{g as f};
